<img src="https://github.com/user-attachments/assets/25357e11-c0bd-4940-8f97-4b90bc59cee1" border="none">

## ☑️ 프로젝트 개요
통계청과 맥킨지 보고서에 따르면, 대한민국의 출산율은 지속적으로 감소하고 있지만, 자녀수가 줄어들수록 자녀 한 명에게 더 많은 투자를 하는 경향이 나타나고 있습니다. 이로 인해 키즈 산업 시장의 규모는 꾸준히 성장하고 있습니다. 

#### ✔️ 직접 실시한 설문조사
<img src="https://github.com/user-attachments/assets/f1f5137a-98a4-48aa-9957-68931c53f499" width="600px"/>

저희 팀원들은 위와 같이, 현재 육아를 하고 계시는 분들의 의견을 들어보기 위해 구글 폼을 통해 설문조사를 진행해봤었는데요,

<img src="https://github.com/user-attachments/assets/257d33a0-29d4-4533-b22b-e027c802bbf3" width="600px"/>

위의 이미지는 저희가 진행한 설문조사 결과의 일부입니다. 저희는 해당 설문조사를 통해 육아에 할애할 시간이 부족하다는 학부모님이 많다는 걸 확인할 수 있었습니다. 그래서 저희는 3-7세 미취학 아동들이 반복적으로 즐겨하는 역할놀이를 AI가 대신 해줄 수 있다면, 부모님의 육아 부담을 크게 줄일 수 있을 것이라는 생각에 'AI와 함께하는 역할놀이 서비스'를 설계하였습니다.

## ☑️ 프로젝트 진행 기간

> 2024.03.07 - 2024.06.13 : 기획 및 디자인 (동국대학교 기업 연계 캡스톤 디자인 수업)<br/>
> 2024.06.29 - 2024.08.30 : 개발 (LINC 3.0 사업단 산학교육센터에서 진행하는 동국대학교 캡스톤디자인 밸류업)


## ☑️ 팀원 소개
> 팀명: 상쓰리<br/>
> 팀명 의미: 주어진 기회에 대해 모든 상을 휩쓸겠다는 열정으로 임하자!

![image](https://github.com/user-attachments/assets/2a6b1641-fc80-4c24-88cf-81f6578a3f48)

## ☑️ 기술 스택
![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=for-the-badge&logo=fastapi)
![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)<br/>
![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white)
![CSS Modules](https://img.shields.io/badge/CSS_Modules-000000?style=for-the-badge&logo=css-modules&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![React](https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=black)<br/>
![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![Google Colab](https://img.shields.io/badge/Google_Colab-F9AB00?style=for-the-badge&logo=google-colab&logoColor=white)
![LangChain](https://img.shields.io/badge/LangChain-000000?style=for-the-badge&logo=chainlink&logoColor=white)
![Hugging Face](https://img.shields.io/badge/Hugging_Face-FFB30B?style=for-the-badge&logo=huggingface&logoColor=white)
![LM Studio](https://img.shields.io/badge/LM_Studio-000000?style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEbSURBVHjarJK9SgNBFIW/WZMNwcIiEJsUgq1gI1iJnY2VD2BjYeEL+Bw+gZWNVVr7NBYiFlFIZUgR3FUSdq+FG1lCNpCBU907c+43Z+6Mioh+YX8Dz8AUcAzkkrTwxvMbsA+cADfAFfBRZEhEOiLyICJbIjIvIqsiMiciCyLSFJFTEVkrPsxMzawDnAEHwDKw4u7fZrYPXAPvQM/dv/6MB+4+MLMz4BHouvtvwTezA+AeWHP3p5jZCHgBUmAzxtgzs13gDlh098GYOOecu3vq7kngDngFVoE2MFOIJwZqZqfALXDu7mMgufsTsAOcA9tAIzezVWAD6Lj7MCFHZpYCaYxxOHYVM0vMrFmulFRE5LKsclwWvwMAHrFNi0nCcgMAAAAASUVORK5CYII=)

## ☑️ 프로젝트 진행 기록
<details>
   <summary>✏️ [2024.07.01 - 2024.07.06] week1</summary>
   <br/>
   <table>
     <tr>
       <th>이유정</th>
       <td>- LLM모델에 커스텀 데이터셋 파인튜닝하여 HF에 모델 업로드</td>
     </tr>
     <tr>
       <th>서미영</th>
       <td>- 프론트엔드 테스트 페이지 제작(React)</td>
     </tr>
     <tr>
       <th>이정수</th>
       <td>- 백엔드 API 설계(Spring Boot)</td>
     </tr>
     <tr>
       <th>홍보영</th>
       <td>- 백엔드 DB 설계(Spring Boot)</td>
     </tr>
   </table>
</details>

<details>
   <summary>✏️ [2024.07.07 - 2024.07.12] week2</summary>
   해당 기간동안은 개발 방식에 대해서 아직 구체화되어있지 않은 상황이라, 어떤식으로 개발을 하면 좋을지 공부했습니다.<br/><br/>
   <table>
     <tr>
       <th>이유정</th>
       <td>
         - 개발 방법 모색<br/>
         - HF형식의 모델을 GGUF형식으로 변환해서 HF에 업로드
       </td>
     </tr>
     <tr>
       <th>서미영</th>
       <td>
         - 개발 방법 모색<br/>
         - 리액트 페이지, fastAPI, LM Studio간의 연결 시도
       </td>
     </tr>
     <tr>
       <th>이정수</th>
       <td>- 개발 방법 모색</td>
     </tr>
     <tr>
       <th>홍보영</th>
       <td>- 개발 방법 모색</td>
     </tr>
   </table>
</details>

<details>
   <summary>✏️ [2024.07.13 - 2024.07.21] week3</summary>
   <br/>
   <table>
     <tr>
       <th>이유정</th>
       <td>
         - 대화모델 학습 및 성능 개선 시도
       </td>
     </tr>
     <tr>
       <th>서미영</th>
       <td>
         - 대화모델 연결 및 환경 구축 시도
       </td>
     </tr>
     <tr>
       <th>이정수</th>
       <td>- 보이스 클로닝 구현 방법 모색</td>
     </tr>
     <tr>
       <th>홍보영</th>
       <td>- 역할놀이 결과 페이지 구현 방법 모색</td>
     </tr>
   </table>
</details>

<details>
   <summary>✏️ [2024.07.22 - 2024.07.28] week4</summary>
   <br/>
   <table>
     <tr>
       <th>이유정</th>
       <td>
         - 대화모델 학습 및 성능 개선 시도<br/>
         - 모델 정확도를 높히기 위한 데이터 증강 시도
       </td>
     </tr>
     <tr>
       <th>서미영</th>
       <td>
         - 대화모델 성능 비교 in LM Studio<br/>
         - user의 상황 세부 설정에 따라 다른 프롬프트 연결 시도
       </td>
     </tr>
     <tr>
       <th>이정수</th>
       <td>
         - 보이스 클로닝 구현 방법 모색<br/>
         - OpenVoice 사용 시도
       </td>
     </tr>
     <tr>
       <th>홍보영</th>
       <td>
         - 역할놀이 결과 페이지 구현 방법 모색<br/>
         - Chat-gpt Open API를 사용하여 분석 데이터 얻어내기
       </td>
     </tr>
   </table>
</details>

<details>
   <summary>✏️ [2024.07.29 - 2024.08.04] week5</summary>
   <br/>
   <table>
     <tr>
       <th>이유정</th>
       <td>
         - eeve 모델 훈련 시도<br/>
         - 라마3 모델을 증강된 데이터셋으로 훈련하기<br/>
         - 모델이 상관없는 것까지 길게 출력하는 문제 해결 시도<br/>
         - 모델 수치적으로 평가하는 방법 찾아보기<br/>
         - 입력 문장 여러 개일 경우 응답 확인
       </td>
     </tr>
     <tr>
       <th>서미영</th>
       <td>
         - 쿼리스트링 방식말고 body에 담아서 json형태로 fastAPI 서버에 사용자의 선택 정보 전달하기 (API 연결)<br/>
         - 기획 구체화 (서비스적인 측면에서)
       </td>
     </tr>
     <tr>
       <th>이정수</th>
       <td>
         - voice cloning 실제 서버에 올려서 테스트 페이지에서 사용가능하게 조작<br/>
         - 생성한 tts를 저장하여 사용할 수 있는 방법 찾기
       </td>
     </tr>
     <tr>
       <th>홍보영</th>
       <td>
         - 백앤드 기능 필요한 거 crud 코드 전부 완성하기 -> 연결부분 빼고 모두 작동할 수 있도록 만들기<br/>
         - 결과분석 api 부모들이 더 신뢰할 수 있을 만한 내용을 제공할 수 있는 방안 모색하기 -> 프롬프트 템플릿화<br/>
         - api 명세 다시 구체화하기<br/>
         - 결과분석 페이지를 디자인해서 오기 (결과 분석 페이지 UI)
       </td>
     </tr>
   </table>
</details>

<details>
   <summary>✏️ [2024.08.05 - 2024.08.09] week6 </summary>
   <br/>
   <table>
     <tr>
       <th>이유정</th>
       <td>
          - 모델 전반적인 학습<br/>
          - 모델 크기 감소 시도<br/>
       </td>
     </tr>
     <tr>
       <th>서미영</th>
       <td>
          - 모델 응답이 혼자서 시나리오를 짜는 걸 막기<br/>
          - 쿼리스트링 방식말고 body에 담아서 json형태로 fastAPI 서버에 사용자의 선택 정보 전달하기 (API 연결)<br/>
          - 사용자 입장에서 응답이 완성될때까지 기다리기 너무 힘드니깐, 모든 응답이 완성되지 않더라도, 생성되는대로 한글자씩 화면에 순차적으로 띄우기 => 힘들면, 응답이 완성되는 동안 '응답 생성 중...'이라는 로딩 표시라도 띄우기
       </td>
     </tr>
     <tr>
       <th>이정수</th>
       <td>
          - OpenVoice와 berk를 이용한 보이스 클로닝 시도<br/>
          - 일반 TTS: Melo(OpenVoice를 개발한 개발팀과 같은 팀이며, local로 설치하여 사용할 수 있는 리눅스 기반의 오픈소스 TTS) 사용 시도<br/>
       </td>
     </tr>
     <tr>
       <th>홍보영</th>
       <td>
          - 지난주에 이어서, 결과 분석 페이지 개발 진행<br/>
       </td>
     </tr>
   </table>
</details>

<details>
   <summary>✏️ [2024.08.10 - 2024.08.18] week7 </summary>
   <br/>
   <table>
     <tr>
       <th>이유정</th>
       <td>
          - [영상공모전] 영상 편집 및 준비<br/>
          - 베이스 모델을 EEVE모델로 변경해서 재파인튜닝<br/>
          - 장난감에 맞는 데이터셋을 추가
       </td>
     </tr>
     <tr>
       <th>서미영</th>
       <td>
          - [영상공모전] 준비<br/>
          - 프론트엔드 전반적인 작업 마무리(페이지 작업 및 서버와 API연결)<br/>
          - 그동안 Web Speech API로 제공했던 TTS를, Google의 TTS API와 연결
       </td>
     </tr>
     <tr>
       <th>이정수</th>
       <td>
          - [영상공모전] 영상 편집, 디자인 및 준비<br/>
          - 보이스 클로닝 시도
       </td>
     </tr>
     <tr>
       <th>홍보영</th>
       <td>
          - [영상공모전] 준비<br/>
          - 백엔드 전반적인 작업 마무리(API설계 및 DB구축)<br/>
       </td>
     </tr>
   </table>
</details>

## ☑️ 피그마 시안
![image](https://github.com/user-attachments/assets/0845c2d2-8450-4a85-b9f7-474c81a2ea42)

## ☑️ ERD
![image](https://github.com/user-attachments/assets/a16fdb9c-84f6-49b5-8c1d-9989ba5a8cd4)
참고로, 해당 ERD에는 '사용자'에 대한 정보가 저장되도록 했지만, 실제 테스트 웹페이지에서는 사용자를 임의로 지정하고 진행했습니다.

## ☑️ 시연 영상
https://github.com/user-attachments/assets/bf1a59a5-042b-49e0-96ab-69055721608b
#### ✔️ LLM 파인튜닝을 통한 나만의 언어모델
한국어 성능이 우수한 EEVE모델을 기본 모델로 선정했습니다. 커스텀 데이터셋을 직접 구축했고, 성능 최적화를 위해 BERT모델을 활용한 데이터셋 증강 및 파인튜닝을 진행했습니다.

#### ✔️ 음성 기반의 역할놀이 서비스: 아이들의 새로운 친구 '아고미'
STT(Web Speech API)와 TTS(Google TTS API) 기술을 활용해 음성 기반 역할놀이를 제공했습니다. '아고미'라는 마스코트 캐릭터를 중심으로 다양한 캐릭터를 제작해, 사용자가 원하는 캐릭터의 음성을 선택하여 역할놀이를 진행할 수 있도록 했습니다.

#### ✔️ 역할놀이 결과 분석 레포트 제공
GPT-3.5-Turbo를 활용하여 결과 분석 레포트를 제공함으로써, 부모님들이 역할놀이에 직접 참여하지 않고도, 아이들의 역할놀이를 효과적으로 파악할 수 있게 했습니다.


## ☑️ 모델 학습 방식

## ☑️ 커스텀 데이터셋의 준비

## ☑️ AI 응답 환경 구축
AI의 응답을 받아오는 방법에 대해 다양한 고민들을 했습니다. 
다음 링크에 포함된 글들을 참고해주세요.
- [LM Studio의 사용 + ngrok, fastAPI](https://github.com/Prize-Three/record/issues/1)
- [Hugging Face Transformers방식](https://github.com/Prize-Three/record/issues/4)
- [꼭 LM Studio를 사용해야만 할까?](https://github.com/Prize-Three/record/issues/5)
- [코랩에서 모델 크기 관련 이슈](https://github.com/Prize-Three/record/issues/8)
- [모델 성능 비교 in LM Studio](https://github.com/Prize-Three/record/issues/15)
- [프롬프트에 따른 답변 변화 확인](https://github.com/Prize-Three/record/issues/16)
- [모델 응답이 혼자서 시나리오를 짜는 걸 막기](https://github.com/Prize-Three/record/issues/23)

## ☑️ API 연결
- [주고받는 데이터 형식](https://github.com/Prize-Three/record/issues/27)


## ☑️ 수상(1) 
> SK텔레콤과 동국대학교가 공동으로 주관한 2024년 1학기 「기업사회맞춤형캡스톤디자인」에서 교과우수상 수상

저희는 skt의 서비스와 관련시켜서, 해당 서비스 개발을 진행했습니다. 많은 skt의 서비스 중에서도 '에이닷'이라는 서비스를 어떻게 개선시킬지를 고민했는데요, 결론만 말하자면 에이닷의 서비스의 메인 서비스가 뚜렷하지 않다고 생각했습니다. 즉, 타겟층도 뚜렷하지 않다고 생각했습니다. 그래서 '키즈 플랫폼'을 에이닷의 메인 서비스로 내세우면 에이닷을 알릴 수 있을 것이라고 생각했고, 저희는 인공지능을 활용해, 키즈 플랫폼에 들어갈만한 서비스를 개발하게 되었습니다. 기획적인 부분들에 대해 세세하게 듣고 싶으시다면, 다음 발표 영상을 참고해주세요. <br/><br/>
✔️ 최종 발표 영상: https://youtu.be/5XKj9iJxWFw<br/>
✔️ 질의 응답 영상: https://youtu.be/Lr1ReEtKcho

## ☑️ 수상(2) 
> 동국대학교 산학교육센터가 주관한 「2024 CD 59초 영화제」 최우수상 수상

https://github.com/user-attachments/assets/bf985856-7ed0-40f1-a82a-0381921dee49

## ☑️ 서비스의 이해 & 추후 발전 가능성
![image](https://github.com/user-attachments/assets/33c289a6-502f-4c72-9e67-5b2ec036020d)
해당 서비스는 화면을 보면서 하는 역할놀이가 아니라, 음성 보조 역할을 하는 서비스입니다. 
부모님께서 아이들한테 역할놀이에 대답해 줄 여유가 없을때에 대신 답변해줄 수 있는 서비스입니다.

현재는 음성 기반으로만 구현되어있습니다. 아이들의 발화를 STT를 통해 텍스트로 얻어오고, 그에 대한 응답을 LLM모델을 통해 생성해낸 뒤, TTS로 아이들한테 응답하는 과정이 구현되어있습니다. 

저희는 해당 서비스를 장난감 사업으로 확장할 수 있다고 생각합니다. 다양한 역할놀이 상황에 대한 장난감들을 판매하고, 아이들은 해당 장난감을 가지고 놀면서 역할놀이를 진행합니다.

현재는 아이들의 발화 정보만을 가지고 응답을 생성해내지만, 추후에 해당 서비스가 발전한다면, 장난감에 센서를 부착하여 아이들이 어떤 장난감을 가지고 노는지에 대한 데이터도 얻어서, 음성 데이터 뿐만 아니라 센서 데이터도 고려해 응답을 생성하면 더 나은 서비스가 될 것이라고 생각했고, 현재 이런 서비스적인 부분에 관련된 특허 출원을 하려고 진행중입니다.

